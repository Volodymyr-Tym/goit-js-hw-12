{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// import iziToast from 'izitoast';\n// import SimpleLightbox from 'simplelightbox';\n// import { createGalleryImageTemplate } from './js/render-functions';\n// import { fetchImages } from './js/pixabay-api';\n\nconst form = document.querySelector('form.js-form');\nconst gallery = document.querySelector('ul.js-gallery');\nconst preLoader = document.querySelector('span.js-loader');\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  preLoader.classList.remove('is-hidden');\n\n  const input = form.search.value.trim();\n\n  if (input === '') {\n    iziToast.info({\n      message: 'Searching field is empty',\n      messageSize: '16',\n      position: 'topRight',\n    });\n\n    preLoader.classList.add('is-hidden');\n    event.target.reset();\n  } else {\n    fetchImages(input)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: 'Sorry,',\n            message:\n              'there are no images matching your search query. Please try again!',\n            messageSize: '16',\n            position: 'topRight',\n          });\n\n          event.target.reset();\n        } else {\n          const drawGallery = data.hits\n            .map(imageInfo => createGalleryImageTemplate(imageInfo))\n            .join('');\n\n          gallery.insertAdjacentHTML('beforeend', drawGallery);\n\n          const newGalleryBox = new SimpleLightbox('ul.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n\n          newGalleryBox.refresh();\n          event.target.reset();\n        }\n      })\n      .catch(err => {\n        iziToast.error({\n          title: err.name,\n          titleSize: '18',\n          message: err.message,\n          messageSize: '18',\n          position: 'center',\n          timeout: false,\n          progressBar: false,\n          overlay: true,\n          overlayColor: 'rgba(0, 0, 0, 0.5)',\n        });\n      })\n\n      .finally(() => {\n        preLoader.classList.add('is-hidden');\n      });\n  }\n};\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["form","gallery","preLoader","onFormSubmit","event","input","data","drawGallery","imageInfo","err"],"mappings":"ssBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAY,SAAS,cAAc,gBAAgB,EAEnDC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpBH,EAAQ,UAAY,GACpBC,EAAU,UAAU,OAAO,WAAW,EAEtC,MAAMG,EAAQL,EAAK,OAAO,MAAM,KAAI,EAEhCK,IAAU,IACZ,SAAS,KAAK,CACZ,QAAS,2BACT,YAAa,KACb,SAAU,UAChB,CAAK,EAEDH,EAAU,UAAU,IAAI,WAAW,EACnCE,EAAM,OAAO,SAEb,YAAYC,CAAK,EACd,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,SAAS,MAAM,CACb,MAAO,SACP,QACE,oEACF,YAAa,KACb,SAAU,UACtB,CAAW,EAEDF,EAAM,OAAO,YACR,CACL,MAAMG,EAAcD,EAAK,KACtB,IAAIE,GAAa,2BAA2BA,CAAS,CAAC,EACtD,KAAK,EAAE,EAEVP,EAAQ,mBAAmB,YAAaM,CAAW,EAE7B,IAAI,eAAe,eAAgB,CACvD,aAAc,MACd,aAAc,GAC1B,CAAW,EAEa,QAAO,EACrBH,EAAM,OAAO,OACd,CACT,CAAO,EACA,MAAMK,GAAO,CACZ,SAAS,MAAM,CACb,MAAOA,EAAI,KACX,UAAW,KACX,QAASA,EAAI,QACb,YAAa,KACb,SAAU,SACV,QAAS,GACT,YAAa,GACb,QAAS,GACT,aAAc,oBACxB,CAAS,CACT,CAAO,EAEA,QAAQ,IAAM,CACbP,EAAU,UAAU,IAAI,WAAW,CAC3C,CAAO,CAEP,EAEAF,EAAK,iBAAiB,SAAUG,CAAY"}