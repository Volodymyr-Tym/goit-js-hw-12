import{f as m,c as g}from"./assets/pixabay-api-DHOET29h.js";/* empty css                      */import{S as f,i as s}from"./assets/vendor-CRwkH7JT.js";const h=document.querySelector("form.js-form"),o=document.querySelector("ul.js-gallery"),r=document.querySelector("span.js-loader"),l=document.querySelector(".load-more-js");let a=1,c=0,i="",y=0;const u=new f("ul.gallery a",{captionsData:"alt",captionDelay:250}),S=async t=>{try{if(t.preventDefault(),o.innerHTML="",l.classList.add("is-hidden"),r.classList.remove("is-hidden"),i=h.search.value.trim(),a=1,i===""){s.info({message:"Searching field is empty",messageSize:"16",position:"topRight"}),r.classList.add("is-hidden"),t.target.reset();return}const{data:e}=await m(i,a);if(c=Math.ceil(e.totalHits/15),e.hits.length===0){s.error({title:"Sorry,",message:"there are no images matching your search query. Please try again!",messageSize:"16",position:"topRight"}),t.target.reset();return}const n=e.hits.map(p=>g(p)).join("");o.insertAdjacentHTML("beforeend",n),y=o.querySelector("li").getBoundingClientRect().height,c>1&&l.classList.remove("is-hidden"),u.refresh(),t.target.reset()}catch({response:e}){s.error({title:"Ooops",titleSize:"18",message:e.data,messageSize:"18",position:"center",timeout:!1,progressBar:!1,overlay:!0,overlayColor:"rgba(0, 0, 0, 0.5)"})}finally{r.classList.add("is-hidden")}},L=async t=>{r.classList.remove("is-hidden");try{a++;const{data:e}=await m(i,a),n=e.hits.map(d=>g(d)).join("");if(o.insertAdjacentHTML("beforeend",n),u.refresh(),scrollBy({top:y*2,behavior:"smooth"}),a===c){l.classList.add("is-hidden"),s.info({message:"We're sorry, but you've reached the end of search results.",messageSize:"16",position:"topRight",timeout:!1});return}}catch({response:e}){s.error({title:"Ooops",titleSize:"18",message:e.data,messageSize:"18",position:"center",timeout:!1,progressBar:!1,overlay:!0,overlayColor:"rgba(0, 0, 0, 0.5)"})}finally{r.classList.add("is-hidden")}};h.addEventListener("submit",S);l.addEventListener("click",L);
//# sourceMappingURL=gallery-load-more.js.map
